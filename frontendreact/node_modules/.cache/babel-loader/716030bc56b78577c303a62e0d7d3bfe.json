{"ast":null,"code":"var _jsxFileName = \"/usr/src/app/src/components/private/prestamos/PrestamosABC.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { types } from \"../../../types/Types\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const PrestamosABC = _ref => {\n  _s();\n\n  let {\n    history\n  } = _ref;\n  const search = useLocation().search;\n  const [nombre, setNombre] = useState(\"\");\n  const [idClientePrestamo, setIdClientePrestamo] = useState(0);\n  const [apellido, setApellido] = useState(\"\");\n  const [servicio, setServicio] = useState(\"\");\n  const [fechaNac, setFechaNac] = useState(\"\");\n  const [pathFoto, setPathFoto] = useState(\"\");\n  const [telefono, setTelefono] = useState(\"\");\n  const [DPI, setDPI] = useState(\"\");\n  const [modalidad, setModalidad] = useState(\"\");\n  const [interes, setInteres] = useState(\"\");\n  const [monto, setMonto] = useState(0);\n  const [numcuotas, setNumCuotas] = useState(0);\n  const [valcuotas, setValCuotas] = useState(0);\n  const [totalNeto, setTotalNeto] = useState(0);\n  useEffect(() => {\n    setTotalNeto(parseFloat(monto) + parseFloat(monto * interes));\n    setValCuotas(numcuotas == 0 ? 0 : totalNeto / numcuotas);\n  }, [numcuotas, monto]);\n  useEffect(() => {\n    const searchCliente = new URLSearchParams(search).get(\"idCliente\");\n\n    if (searchCliente.length > 0) {\n      setIdClientePrestamo(searchCliente);\n      axios.post(types.apiurl + \"/clientes/byid\", {\n        idCliente: searchCliente\n      }).then(respData => {\n        let fecha_n = respData.data[0].Fecha_nac;\n        let fecha_y = fecha_n.split(\"T\");\n        setDPI(respData.data[0].DPI);\n        setNombre(respData.data[0].Nombre);\n        setApellido(respData.data[0].Apellido);\n        setTelefono(respData.data[0].Telefono);\n        setFechaNac(fecha_y[0]);\n      });\n    }\n  }, []);\n\n  const handleGuardar = async e => {\n    e.preventDefault();\n    await axios.post(types.apiurl + \"/prestamos/create\", {\n      idClientePrestamo,\n      modalidad,\n      interes,\n      monto,\n      totalNeto,\n      numcuotas,\n      valcuotas\n    }).then(respData => {\n      let valresp = respData.data;\n      console.log(respData);\n      console.log(valresp);\n\n      if (valresp.result == \"OK\") {\n        alert(valresp.msg);\n        history.push(\"/prestamos\");\n      } else {\n        alert(valresp.msg);\n      }\n    });\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"pb-5 mb-5\",\n      children: [/*#__PURE__*/_jsxDEV(Link, {\n        className: \"btn btn-lg btn-pink-sherbet fondo-red-crayola\",\n        to: `./clientes`,\n        children: \"Regresar\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"Nuevo Prestamo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"DPI:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 92,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            id: \"DPI\",\n            value: DPI,\n            onChange: event => {\n              setDPI(event.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Nombre:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            id: \"nombre\",\n            value: nombre,\n            onChange: event => {\n              setNombre(event.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Apellido:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 116,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            id: \"apellido\",\n            value: apellido,\n            onChange: event => {\n              setApellido(event.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 117,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Modalidad:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"modalidad\",\n            className: \"form-control\",\n            required: true,\n            value: modalidad,\n            onChange: event => {\n              setModalidad(event.target.value);\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              selected: true,\n              children: \"-Elija una modalidad:-\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 139,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Diario\",\n              children: \"Diario\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 142,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"Quincenal\",\n              children: \"Quincenal\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 143,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 130,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Monto a otorgar:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 147,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            id: \"monto\",\n            value: monto,\n            onChange: event => {\n              setMonto(event.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 148,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 146,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Interes:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 159,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            id: \"interes\",\n            value: interes,\n            onChange: event => {\n              setInteres(event.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 160,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Numero de cuotas:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 172,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            id: \"numcuotas\",\n            value: numcuotas,\n            onChange: event => {\n              setNumCuotas(event.target.value);\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 173,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"Total neto:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            id: \"totalNeto\",\n            value: totalNeto\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"form-group\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            children: \"valor de cuotas:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 193,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            className: \"form-control\",\n            id: \"valcuotas\",\n            value: valcuotas.toFixed(2)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 194,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 192,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          className: \"btn btn-lg btn-block fondo-pink-sherbet btn-lavender-blush\",\n          onClick: handleGuardar,\n          children: \"Crear Prestamo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 80,\n    columnNumber: 9\n  }, this);\n};\n\n_s(PrestamosABC, \"uYxoxEVU9E3c9JefhbcmW3+j3Bw=\", false, function () {\n  return [useLocation];\n});\n\n_c = PrestamosABC;\n\nvar _c;\n\n$RefreshReg$(_c, \"PrestamosABC\");","map":{"version":3,"sources":["/usr/src/app/src/components/private/prestamos/PrestamosABC.js"],"names":["axios","React","useEffect","useState","Link","useLocation","types","PrestamosABC","history","search","nombre","setNombre","idClientePrestamo","setIdClientePrestamo","apellido","setApellido","servicio","setServicio","fechaNac","setFechaNac","pathFoto","setPathFoto","telefono","setTelefono","DPI","setDPI","modalidad","setModalidad","interes","setInteres","monto","setMonto","numcuotas","setNumCuotas","valcuotas","setValCuotas","totalNeto","setTotalNeto","parseFloat","searchCliente","URLSearchParams","get","length","post","apiurl","idCliente","then","respData","fecha_n","data","Fecha_nac","fecha_y","split","Nombre","Apellido","Telefono","handleGuardar","e","preventDefault","valresp","console","log","result","alert","msg","push","event","target","value","toFixed"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React, { useEffect } from \"react\";\nimport { useState } from \"react\";\nimport { Link, useLocation } from \"react-router-dom\";\nimport { types } from \"../../../types/Types\";\n\nexport const PrestamosABC = ({ history }) => {\n\n    const search = useLocation().search;\n    const [nombre, setNombre] = useState(\"\");\n    const [idClientePrestamo, setIdClientePrestamo] = useState(0);\n    const [apellido, setApellido] = useState(\"\");\n    const [servicio, setServicio] = useState(\"\");\n    const [fechaNac, setFechaNac] = useState(\"\");\n    const [pathFoto, setPathFoto] = useState(\"\");\n    const [telefono, setTelefono] = useState(\"\");\n    const [DPI, setDPI] = useState(\"\");\n    const [modalidad, setModalidad] = useState(\"\");\n    const [interes, setInteres] = useState(\"\");\n    const [monto, setMonto] = useState(0);\n    const [numcuotas, setNumCuotas] = useState(0);\n    const [valcuotas, setValCuotas] = useState(0);\n    const [totalNeto, setTotalNeto] = useState(0)\n\n    useEffect(\n        ()=>{\n            setTotalNeto(parseFloat(monto) + parseFloat(monto*interes))\n            setValCuotas(numcuotas==0 ? 0 : totalNeto/numcuotas)\n        },[numcuotas, monto]\n    )\n\n    useEffect(() => {\n        const searchCliente = new URLSearchParams(search).get(\"idCliente\");\n        if (searchCliente.length > 0) {\n            setIdClientePrestamo(searchCliente)\n            axios\n                .post(types.apiurl + \"/clientes/byid\", {\n                    idCliente: searchCliente\n                })\n                .then((respData) => {\n                    let fecha_n = respData.data[0].Fecha_nac;\n                    let fecha_y = fecha_n.split(\"T\");\n\n                    setDPI(respData.data[0].DPI);\n                    setNombre(respData.data[0].Nombre);\n                    setApellido(respData.data[0].Apellido);\n                    setTelefono(respData.data[0].Telefono);\n                    setFechaNac(fecha_y[0]);\n                });\n        }\n    }, []);\n\n    const handleGuardar = async (e) => {\n        e.preventDefault();\n        await axios.post(types.apiurl+\"/prestamos/create\",{\n            idClientePrestamo,\n            modalidad,\n            interes,\n            monto,\n            totalNeto,\n            numcuotas,\n            valcuotas\n        }).then((respData) => {\n            let valresp = respData.data;\n            console.log(respData)\n            console.log(valresp)\n            if (valresp.result == \"OK\") {\n                alert(\n                    valresp.msg\n                );\n\n                history.push(\"/prestamos\");\n            } else {\n                alert(valresp.msg);\n            }\n        });\n    };\n\n    return (\n        <div>\n            <div className=\"pb-5 mb-5\">\n                <Link\n                    className=\"btn btn-lg btn-pink-sherbet fondo-red-crayola\"\n                    to={`./clientes`}\n                >\n                    Regresar\n                </Link>\n                <hr />\n                <h1>Nuevo Prestamo</h1>\n                <form>\n                    <div className=\"form-group\">\n                        <label>DPI:</label>\n                        <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            id=\"DPI\"\n                            value={DPI}\n                            onChange={(event) => {\n                                setDPI(event.target.value);\n                            }}\n                        />\n                    </div>\n                    <div className=\"form-group\">\n                        <label>Nombre:</label>\n                        <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            id=\"nombre\"\n                            value={nombre}\n                            onChange={(event) => {\n                                setNombre(event.target.value);\n                            }}\n                        />\n                    </div>\n                    <div className=\"form-group\">\n                        <label>Apellido:</label>\n                        <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            id=\"apellido\"\n                            value={apellido}\n                            onChange={(event) => {\n                                setApellido(event.target.value);\n                            }}\n                        />\n                    </div>\n\n                    <div className=\"form-group\">\n                        <label>Modalidad:</label>\n                        <select\n                            id=\"modalidad\"\n                            className=\"form-control\"\n                            required\n                            value={modalidad}\n                            onChange={(event) => {\n                                setModalidad(event.target.value);\n                            }}\n                        >\n                            <option value=\"\" selected>\n                                -Elija una modalidad:-\n                            </option>\n                            <option value=\"Diario\">Diario</option>\n                            <option value=\"Quincenal\">Quincenal</option>\n                        </select>\n                    </div>\n                    <div className=\"form-group\">\n                        <label>Monto a otorgar:</label>\n                        <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            id=\"monto\"\n                            value={monto}\n                            onChange={(event) => {\n                                setMonto(event.target.value);\n                            }}\n                        />\n                    </div>\n                    <div className=\"form-group\">\n                        <label>Interes:</label>\n                        <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            id=\"interes\"\n                            value={interes}\n                            onChange={(event) => {\n                                setInteres(event.target.value);\n                            }}\n                        />\n                    </div>\n                    \n                    <div className=\"form-group\">\n                        <label>Numero de cuotas:</label>\n                        <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            id=\"numcuotas\"\n                            value={numcuotas}\n                            onChange={(event) => {\n                                setNumCuotas(event.target.value);\n                            }}\n                        />\n                    </div>\n                    <div className=\"form-group\">\n                        <label>Total neto:</label>\n                        <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            id=\"totalNeto\"\n                            value={totalNeto}\n                        />\n                    </div>\n                    <div className=\"form-group\">\n                        <label>valor de cuotas:</label>\n                        <input\n                            type=\"text\"\n                            className=\"form-control\"\n                            id=\"valcuotas\"\n                            value={(valcuotas).toFixed(2)}\n                        />\n                    </div>\n                    <button\n                        type=\"submit\"\n                        className=\"btn btn-lg btn-block fondo-pink-sherbet btn-lavender-blush\"\n                        onClick={handleGuardar}\n                    >\n                        Crear Prestamo\n                    </button>\n                </form>\n            </div>\n        </div>\n    );\n};\n"]},"metadata":{},"sourceType":"module"}