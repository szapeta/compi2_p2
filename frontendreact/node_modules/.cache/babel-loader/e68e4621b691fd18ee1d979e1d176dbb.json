{"ast":null,"code":"var _jsxFileName = \"/Users/szapeta/Documents/USAC/Compi2/Proyectos/Proyecto2 2/frontendreact/src/components/public/registro/Registro.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { AuthContext } from \"../../../auth/AuthContext\";\nimport { types } from \"../../../types/Types\";\nimport ImageUploader from \"react-images-upload\";\nimport { v4 as uuid } from \"uuid\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const Registro = _ref => {\n  _s();\n\n  let {\n    history\n  } = _ref;\n  const {\n    dispatch\n  } = useContext(AuthContext);\n  const [isError, setIsError] = useState(\"\");\n  const [formname, setFormname] = useState(\"\");\n  const [formlastname, setFormlastname] = useState(\"\");\n  const [formusername, setFormusername] = useState(\"\");\n  const [formpass, setFormpass] = useState(\"\");\n  const [formpassxtwo, setFormpassxtwo] = useState(\"\");\n  const lastPath = localStorage.getItem(\"lastPath\") || \"/\";\n\n  const handleRegistro = async e => {\n    e.preventDefault();\n\n    if (formpass == formpassxtwo) {\n      setIsError(\"\");\n      axios.post(types.apiurl + \"/usuarios\", {\n        formname,\n        formlastname,\n        formusername,\n        formpass\n      }).then(rspData => {\n        let valresp = rspData.data;\n\n        if (valresp.result == 'OK') {\n          alert(valresp.msg);\n          dispatch({\n            type: types.login,\n            payload: {\n              name: formname,\n              user: formusername,\n              rol: types.rolAdmin,\n              iduser: valresp.iduser\n            }\n          });\n          history.replace(lastPath);\n        } else {\n          alert(valresp.msg);\n        }\n      });\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container mt-5\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Registro\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      autoComplete: \"off\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Nombres\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"ingrese su nombre\",\n          autoComplete: \"off\",\n          className: \"form-control\",\n          name: \"name\",\n          id: \"name\",\n          value: formname,\n          onChange: event => {\n            setFormname(event.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 64,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Apellidos\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"ingrese sus apellidos\",\n          autoComplete: \"off\",\n          className: \"form-control\",\n          name: \"lastname\",\n          id: \"lastname\",\n          value: formlastname,\n          onChange: event => {\n            setFormlastname(event.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 78,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Username o email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"ingrese su nombre\",\n          autoComplete: \"off\",\n          className: \"form-control\",\n          name: \"user\",\n          id: \"user\",\n          value: formusername,\n          onChange: event => {\n            setFormusername(event.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 105,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"password\",\n          className: \"form-control\",\n          id: \"pass\",\n          value: formpass,\n          onChange: event => {\n            setFormpass(event.target.value);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 106,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Confirmar Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          value: formpassxtwo,\n          onChange: event => {\n            setFormpassxtwo(event.target.value);\n          },\n          type: \"password\",\n          className: \"form-control\",\n          id: \"passxtwo\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btn btn-lg btn-block btn-pink-sherbet fondo-red-crayola\",\n        onClick: handleRegistro,\n        children: \"Registrarse\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 128,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: \"absolute\",\n        textAlign: \"center\",\n        paddingTop: 20\n      },\n      children: isError\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Registro, \"+B1+/ZXH/9KSFYBR/d6mAaZ4uHU=\");\n\n_c = Registro;\n\nvar _c;\n\n$RefreshReg$(_c, \"Registro\");","map":{"version":3,"sources":["/Users/szapeta/Documents/USAC/Compi2/Proyectos/Proyecto2 2/frontendreact/src/components/public/registro/Registro.js"],"names":["axios","React","useContext","useState","useEffect","AuthContext","types","ImageUploader","v4","uuid","Registro","history","dispatch","isError","setIsError","formname","setFormname","formlastname","setFormlastname","formusername","setFormusername","formpass","setFormpass","formpassxtwo","setFormpassxtwo","lastPath","localStorage","getItem","handleRegistro","e","preventDefault","post","apiurl","then","rspData","valresp","data","result","alert","msg","type","login","payload","name","user","rol","rolAdmin","iduser","replace","event","target","value","position","textAlign","paddingTop"],"mappings":"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","sourcesContent":["import axios from \"axios\";\nimport React, { useContext, useState, useEffect } from \"react\";\nimport { AuthContext } from \"../../../auth/AuthContext\";\nimport { types } from \"../../../types/Types\";\nimport ImageUploader from \"react-images-upload\";\nimport { v4 as uuid } from \"uuid\";\n\nexport const Registro = ({ history }) => {\n    const { dispatch } = useContext(AuthContext);\n\n    const [isError, setIsError] = useState(\"\");\n    const [formname, setFormname] = useState(\"\");\n    const [formlastname, setFormlastname] = useState(\"\");\n    const [formusername, setFormusername] = useState(\"\");\n    const [formpass, setFormpass] = useState(\"\");\n    const [formpassxtwo, setFormpassxtwo] = useState(\"\");\n\n    const lastPath = localStorage.getItem(\"lastPath\") || \"/\";\n\n    const handleRegistro = async (e) => {\n        e.preventDefault();\n        if (formpass == formpassxtwo) {\n            setIsError(\"\");\n\n            axios\n                .post(types.apiurl + \"/usuarios\", {\n                    formname,\n                    formlastname,\n                    formusername,\n                    formpass,\n                })\n                .then((rspData) => {\n                    let valresp = rspData.data;\n\n                    if (valresp.result== 'OK'){\n\n                        alert(valresp.msg)\n                        dispatch({\n                            type: types.login,\n                            payload: {\n                                name: formname,\n                                user: formusername,\n                                rol: types.rolAdmin,\n                                iduser: valresp.iduser\n                            },\n                        });\n    \n                        history.replace(lastPath);\n\n                    }else{\n                        alert(valresp.msg)\n                    }\n                });\n        }\n    };\n\n    return (\n        <div className=\"container mt-5\">\n            <h1>Registro</h1>\n            <hr />\n            <form autoComplete=\"off\">\n                <div className=\"form-group\">\n                    <label>Nombres</label>\n                    <input\n                        type=\"ingrese su nombre\"\n                        autoComplete=\"off\"\n                        className=\"form-control\"\n                        name=\"name\"\n                        id=\"name\"\n                        value={formname}\n                        onChange={(event) => {\n                            setFormname(event.target.value);\n                        }}\n                    />\n                </div>\n                <div className=\"form-group\">\n                    <label>Apellidos</label>\n                    <input\n                        type=\"ingrese sus apellidos\"\n                        autoComplete=\"off\"\n                        className=\"form-control\"\n                        name=\"lastname\"\n                        id=\"lastname\"\n                        value={formlastname}\n                        onChange={(event) => {\n                            setFormlastname(event.target.value);\n                        }}\n                    />\n                </div>\n                <div className=\"form-group\">\n                    <label>Username o email</label>\n                    <input\n                        type=\"ingrese su nombre\"\n                        autoComplete=\"off\"\n                        className=\"form-control\"\n                        name=\"user\"\n                        id=\"user\"\n                        value={formusername}\n                        onChange={(event) => {\n                            setFormusername(event.target.value);\n                        }}\n                    />\n                </div>\n                <div className=\"form-group\">\n                    <label>Password</label>\n                    <input\n                        type=\"password\"\n                        className=\"form-control\"\n                        id=\"pass\"\n                        value={formpass}\n                        onChange={(event) => {\n                            setFormpass(event.target.value);\n                        }}\n                    />\n                </div>\n                <div className=\"form-group\">\n                    <label>Confirmar Password</label>\n                    <input\n                        value={formpassxtwo}\n                        onChange={(event) => {\n                            setFormpassxtwo(event.target.value);\n                        }}\n                        type=\"password\"\n                        className=\"form-control\"\n                        id=\"passxtwo\"\n                    />\n                </div>\n                <button\n                    className=\"btn btn-lg btn-block btn-pink-sherbet fondo-red-crayola\"\n                    onClick={handleRegistro}\n                >\n                    Registrarse\n                </button>\n            </form>\n\n            <div\n                style={{\n                    position: \"absolute\",\n                    textAlign: \"center\",\n                    paddingTop: 20,\n                }}\n            >\n                {isError}\n            </div>\n        </div>\n    );\n};\n"]},"metadata":{},"sourceType":"module"}